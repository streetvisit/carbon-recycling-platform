---
import Layout from '../../layouts/Layout.astro';
import IngestionPage from '../../components/IngestionPage.tsx';
import { getAuth } from '@clerk/astro/server';

// Check if user is authenticated
const auth = getAuth(Astro);
if (!auth.userId) {
  return Astro.redirect('/sign-in');
}
---

<Layout title="Data Ingestion Hub - CarbonRecycling.co.uk">
  <IngestionPage client:load />
</Layout>
